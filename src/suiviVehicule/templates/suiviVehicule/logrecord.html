{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="{% static './image/favicon.png' %}">
    <link rel="stylesheet" href="{% static './bootstrap-4.3.1/bootstrap-4.3.1/dist/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static './sass/dist/style.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open Sans">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Dashboard - Mautourco</title>
</head>
<body>
{% load crispy_forms_tags %}
{% csrf_token %}
<div class="header row">
    <div class=" col-md-4 header-logo">
        <img src="{% static './image/logo.png' %}" alt="">
    </div>
    <div class="col-md-4 header-title">
        <h2>VEHICLE FLEET TRACKING</h2>
    </div>
    <div class="col-md-4 header-sign-in">
        <h5><a href="/" ><i class="fa-solid fa-house-user"></i></a></h5>
    </div>
</div>
<div id="bg-spinner">
    <div id="position-spinner">
        <span id="spinner"></span>
    </div>
 </div>
<div class="main">    
    <div class="list">
        <div class="title-rec row">
            <div class="col-md-1 icon ">
               <a href="/dashboard" ><i class="fa-regular fa-circle-left fa-xl"></i></a>
            </div>       
            <div class="col-md-10 title-rec-head" style="text-align: center;">
                <h2>Cancelled trip record</h2>
            </div>        
        </div> 
        <div class="row table-responsive">
            <table class="table table-borderless col-md-12">
                <thead>
                  <tr>
                   <th scope="col">Driver name</th>
                    <th scope="col">Vehicule</th>
                    <th scope="col">From</th>
                    <th scope="col">To</th>
                    <th scope="col">Start time</th>
                    <th scope="col">Pick up time</th>
                    <th scope="col">Comments</th>
                    <th scope="col">Cancelled</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>
                <tbody>
                {% for item in data_list %}
                <tr>             
                    <td style="text-align: center;">{{ item.driver_oname }}</td>
                    <td style="text-align: center;">{{ item.vehicleno }}</td>
                    <td style="text-align: center;">{{ item.FromPlace }}</td>
                    <td style="text-align: center;">{{ item.ToPlace }}</td>
                    <td style="text-align: center;">{{ item.trip_start_time|date:"H:i:s " }}</td>
                    <td style="text-align: center;">{{ item.pick_up_time |date:"H:i:s" }}</td>                  
                    <td style="text-align: center;text-transform: uppercase;">{{ item.comment }}</td>
                    <td style="text-align: center;">{{ item.daterecord }}</td>
                    <td class="list-action">
                        <button class="btn btn-outline-success action" style="color:white;background-color:{{ item.couleur }}">Cancel</button>
                    </td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
            {% for message in messages %}
            <!-- pop-up dialog box, containing a form -->
                <dialog id="favDialog" style="border: none;border-radius: 0.2rem;">  
                    <hr></hr>             
                    <p>{{ message }}</p>
                    <hr></hr>
                    <div>
                        <button id="cancel" class="btn btn-default" type="reset">Cancel</button>
                    </div>
                </dialog>

            {% endfor %}        
            
        <div class="list-footer">
          <!--  <a href="/record/listes?page={{ load_value }}" class="btn" >
                <button name="loadmore" value="" >Load more <i class="fa-solid fa-ellipsis-vertical fa-rotate-90"></i></button>
            </a>-->
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
<script src="{% static './bootstrap-4.3.1/bootstrap-4.3.1/dist/js/bootstrap.min.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script src="{% static './graph.js' %}"></script>
<script src="https://kit.fontawesome.com/2c856785c3.js" crossorigin="anonymous"></script>
<script
  src="https://code.jquery.com/jquery-3.6.3.js"
  integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
  crossorigin="anonymous"></script>
</body>

</html>