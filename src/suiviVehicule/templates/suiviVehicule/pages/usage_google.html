{% extends "suiviVehicule/template.html" %}
{% block content %}
{% load static %}
<script src="assets/js/plugin/webfont/webfont.min.js"></script>
<!-- CSS Files -->
<link rel="stylesheet" href="{% static './css/bootstrap.min.css' %}" />
<link rel="stylesheet" href="{% static './css/plugins.min.css' %}" />
<link rel="stylesheet" href="{% static './css/kaiadmin.min.css' %}" />

<!-- CSS Just for demo purpose, don't include it in your project -->
<link rel="stylesheet" href="{% static './css/demo=.css' %}" />
<div class="main">
  <nav class="navbar navbar-expand-lg">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link {% if request.path == '/trip/visualisation' %}active{% endif %}" href="/trip/visualisation">Global</a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.path == '/trip/kpi' %}active{% endif %}" href="/trip/kpi">Trip Information</a>
            </li>
            <li class="nav-item">
              <a class="nav-link {% if request.path == '/trip/usagegoogle' %}active{% endif %}" href="/trip/usagegoogle">Usage Google Maps</a>
            </li>
        </ul>
    </div>
  </nav>

    <div class="visualisation">
        <h2 class="visualisation-title">Usage Google Map</h2>
        <div class="page-inner">
          <form action="/trip/usagegoogle" method="GET" class="date-filter-form">
            <div class="row mb-4">
                <div class="col-md-3">
                    <label for="startDate" class="form-label">Date from</label>
                    <input type="date" class="form-control" id="datefrom" name="datefrom" placeholder="yyyy-mm-dd">
                </div>
                <div class="col-md-3">
                    <label for="endDate" class="form-label">Date to</label>
                    <input type="date" class="form-control" id="dateto" name="dateto" placeholder="yyyy-mm-dd">
                </div>
                <div class="col-md-6 d-flex align-items-end">
                    <button type="submit" class="btn btn-secondary me-2">Search <i class="fa-solid fa-magnifying-glass"></i></button>
                </div>
            </div>
          </form>
            <div class="row">
              <div class="col-md-12">
                <div class="card card-round">
                  <div class="card-header">
                    <div class="card-head-row card-tools-still-right">
                      <div class="card-title">Usage Google Maps Platform per day</div>
                      <div class="card-tools">
                        <div class="dropdown">
                          <button
                            class="btn btn-icon btn-clean me-0"
                            type="button"
                            id="dropdownMenuButton"
                            data-bs-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false"
                          >
                            <i class="fas fa-ellipsis-h"></i>
                          </button>
                          <div
                            class="dropdown-menu"
                            aria-labelledby="dropdownMenuButton"
                          >
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <a class="dropdown-item" href="#"
                              >Something else here</a
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="card-body p-0">
                    <div class="table-responsive">
                      <table class="table align-items-center mb-0">
                        <thead class="thead-light">
                          <tr>
                            <th scope="col" class="text-end">Date</th>
                            <th scope="col" class="text-end">Unit Price</th>
                            <th scope="col" class="text-end">Value</th>
                            <th scope="col" class="text-end">Price</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% load humanize %}
                            {% for item in data_list %}
                            <td class="text-end">{{ item.date }}</td>
                            <td class="text-end">{{ item.unitprice }}</td>
                            <td class="text-end">{{ item.nbre_call_api|intcomma:" " }}</td>
                            <td class="text-end">{{ item.price }}$</td>
                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        
    </div>    
</div>      
<script src="{% static './main.js' %}"></script>
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
{% endblock %}
